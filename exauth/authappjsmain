import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import Router from './Router';
import * as serviceWorker from './serviceWorker';
import { AuthProvider } from './context/AuthContext'
import TenderState from './context/tenders/TenderState'
import { ThemeProvider, CSSReset, ChakraProvider } from '@chakra-ui/react'
import { BrowserRouter } from 'react-router-dom'
import App from './App'  ///entrada a pagina y rutas segun logeo

ReactDOM.render(
    <TenderState>
    <AuthProvider>
        <ChakraProvider >
            <CSSReset />
            <BrowserRouter>
                <App/>
            </BrowserRouter>
        </ChakraProvider>
    </AuthProvider>
    </TenderState>
    
    , document.getElementById('root'));

serviceWorker.unregister();





import React, { lazy, Suspense } from 'react'
import { useAuth } from './context/AuthContext'
import Loader from './components/layout/Loader'

const AuthApp = lazy(() => import('./AuthApp'))
const UnauthApp = lazy(() => import('./UnauthApp'))

export default function App() {

    const [{ user }] = useAuth()

    return user? (
        <Suspense fallback={<Loader />}>
            <AuthApp />
        </Suspense>
    ) : (
        <Suspense fallback={<Loader />}>
            <UnauthApp />
        </Suspense>
    )
}
